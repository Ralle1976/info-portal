{
  "optimization_timestamp": "2025-08-27T20:45:24.233901",
  "database_path": "data/portal.db",
  "index_optimization": {
    "created_indexes": [
      "idx_announcement_active_lang_priority",
      "idx_availability_date_active_type",
      "idx_hourexception_date_closed",
      "idx_visitoranalytics_date_time",
      "idx_visitoranalytics_session_page",
      "idx_dailystatistics_date_desc",
      "idx_compliancelog_type_severity_created",
      "idx_cookieconsent_session_expires",
      "idx_datasubjectrequest_status_deadline",
      "idx_socialmediapost_platform_active_scheduled",
      "idx_shareablecontent_type_active_shared",
      "idx_changelog_table_action_created",
      "idx_changelog_rollback_status",
      "idx_adminuser_username_locked",
      "idx_legaldocument_type_lang_active",
      "idx_dataprocessingpurpose_active_consent"
    ],
    "failed_indexes": [],
    "execution_time_ms": 49.45058503653854
  },
  "performance_indexes": {
    "created": [
      "idx_standardhours_day_updated",
      "idx_announcement_active_range",
      "idx_availability_date_range_active",
      "idx_visitoranalytics_time_series",
      "idx_visitoranalytics_session_timeline",
      "idx_changelog_recent_activity",
      "idx_cookieconsent_active_sessions",
      "idx_compliancelog_retention"
    ],
    "failed": [
      "CREATE INDEX IF NOT EXISTS idx_status_current ON s... -> (sqlite3.OperationalError) non-deterministic use of date() in an index\n[SQL: CREATE INDEX IF NOT EXISTS idx_status_current ON status(type, date_from, date_to) WHERE date_from IS NULL OR date_from <= date('now')]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"
    ]
  },
  "maintenance": {
    "operations": [
      "\u2705 ANALYZE completed",
      "\u2705 PRAGMA optimize completed"
    ],
    "errors": [],
    "execution_time_ms": 13.45284900162369
  },
  "current_metrics": {
    "database": {
      "size_mb": 0.3046875,
      "pages": 78,
      "page_size": 4096,
      "fragmentation_pages": 0,
      "fragmentation_percent": 0.0
    },
    "cache": {
      "cache_size_kb": 64000
    },
    "connection_pool": {
      "size": 1,
      "checked_out": 0,
      "overflow": 0,
      "total_connections": 1,
      "pool_type": "StaticPool (SQLite)"
    },
    "query_metrics": {
      "total_monitored_queries": 1,
      "avg_execution_time_ms": 10.978500999044627,
      "slow_queries_count": 0,
      "recent_queries": [
        {
          "query": "ANALYZE",
          "time_ms": 10.978500999044627,
          "timestamp": "2025-08-27T20:45:24.229549"
        }
      ]
    }
  },
  "recommendations": [
    "\u2705 Database performance looks good"
  ]
}